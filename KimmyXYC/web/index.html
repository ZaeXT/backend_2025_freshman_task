<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AIBackend 前端演示</title>
  <link rel="stylesheet" href="./css/styles.css" />
</head>
<body>
  <div id="app">
    <!-- Auth View -->
    <section id="auth-view" class="view">
      <h1>登录 / 注册</h1>
      <div class="auth-panels">
        <form id="login-form" class="panel">
          <h2>登录</h2>
          <label>邮箱
            <input type="email" id="login-email" required />
          </label>
          <label>密码
            <input type="password" id="login-password" required />
          </label>
          <button type="submit">登录</button>
          <div class="error" id="login-error"></div>
        </form>

        <form id="register-form" class="panel">
          <h2>注册</h2>
          <label>邮箱
            <input type="email" id="register-email" required />
          </label>
          <label>密码
            <input type="password" id="register-password" required />
          </label>
          <label>角色
            <select id="register-role">
              <option value="free">free</option>
              <option value="pro">pro</option>
              <option value="admin">admin</option>
            </select>
          </label>
          <button type="submit">注册</button>
          <div class="error" id="register-error"></div>
        </form>
      </div>
    </section>

    <!-- Main App View -->
    <section id="app-view" class="view hidden">
      <header class="topbar">
        <div>
          <span id="user-email"></span>
          <span class="role" id="user-role"></span>
        </div>
        <div class="controls">
          <label>模型
            <select id="model-select">
              <optgroup label="OpenAI">
                <option value="gpt-4o-mini" selected>gpt-4o-mini</option>
                <option value="gpt-4o">gpt-4o</option>
                <option value="gpt-4.1">gpt-4.1</option>
              </optgroup>
              <optgroup label="Mock">
                <option value="mock-mini">mock-mini</option>
                <option value="mock-pro">mock-pro</option>
                <option value="mock-admin">mock-admin</option>
              </optgroup>
            </select>
          </label>
          <label class="stream-toggle">
            <input type="checkbox" id="stream-toggle" checked /> 流式输出
          </label>
          <button id="logout-btn">退出</button>
        </div>
      </header>

      <div class="layout">
        <aside class="sidebar">
          <div class="sidebar-header">
            <button id="new-chat-btn">+ 新建对话</button>
          </div>
          <ul id="conv-list" class="list"></ul>
        </aside>

        <main class="chat">
          <div id="messages" class="messages"></div>
          <form id="chat-form" class="chat-input">
            <textarea id="chat-input" rows="3" placeholder="输入你的问题，Enter 发送，Shift+Enter 换行"></textarea>
            <div class="chat-actions">
              <button id="send-btn" type="submit">发送</button>
              <span id="send-hint" class="hint"></span>
            </div>
          </form>
        </main>
      </div>
    </section>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
